@using Quarantine_Management.Function
@using Microsoft.AspNetCore.Http;
@inject IHttpContextAccessor HttpContextAccessor
@{
    if (HttpContextAccessor.HttpContext?.Session == null)
    {
        Url.Action("SignOut", "Login");
    }
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quarantine Management</title>

    <link rel="icon" type="image/x-icon" href="~/assets/favicon.ico">

    <!--FontAwesome-->
    <link href="~/lib/adminlte/plugins/fontawesome-free/css/all.min.css" rel="stylesheet" />
    <link href="~/lib/adminlte/plugins/fontawesome-free/css/fontawesome.min.css" rel="stylesheet" />
    <link href="~/lib/adminlte/plugins/fontawesome-free/css/solid.min.css" rel="stylesheet" />
    <link href="~/lib/adminlte/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
    <!--Bootsrapt 4-->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/lib/DataTables-1.10.22/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" href="~/lib/select2-4.1.0/select2.min.css" />


    <!-- Admin LTE-->
    <link href="~/lib/adminlte/dist/css/adminlte.css" rel="stylesheet" />
    <link href="~/lib/adminlte/plugins/sweetalert2/sweetalert2.css" rel="stylesheet" />
    <link href="~/lib/adminlte/plugins/chart.js/Chart.min.css" rel="stylesheet" />
    <script src="~/lib/adminlte/plugins/chart.js/chartjs-plugin-datalabels@1.1.2.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>
    <link href="~/lib/adminlte/plugins/overlayScrollbars/css/OverlayScrollbars.min.css" rel="stylesheet" />



</head>
<body class="sidebar-mini layout-fixed layout-navbar-fixed" style="padding: 0 !important; margin: 0 !important">
    <div class="wrapper">
        <!-- Navbar-->
        <nav class="main-header navbar navbar-expand border-bottom navbar-dark bg-dark" style="color:white;">
            <ul class="navbar-nav justify-content-between align-items-center">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#">
                        <i class="fa fa-bars" aria-hidden="true"></i>
                    </a>
                </li>
                <li class="mx-auto">
                    <h4>Quarantine Management</h4>
                </li>
            </ul>
            <div class="ml-auto"></div>
            <img src="~/images/icon/impact1.png" alt="Schneider Logo" style="width: 50px; ">
        </nav>


        <!-- End Navbar-->
        <!-- Sidebar -->
        <aside class="main-sidebar sidebar-dark-success elevation-5">
            <!-- Brand Logo -->
            <a class="brand-link bg-success" style="color:white; height: 64px">
                <img src="~/assets/logos.png" alt="Schneider Logo" class="brand-image img-circle elevation-3"
                     style="opacity: .8">
                <span class="brand-text font-weight-bold ml-2" style="font-size: 14px">Quarantine Management</span>
            </a>
            <div class="sidebar">

                <div class="User-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                        <img src="~/assets/header.png" class="img-circle elevation-2 bg-white" alt="User Image" width="80%">
                    </div>
                    <div class="info d-flex flex-column justify-content-center">
                        <a class="d-block-center">
                            @HttpContextAccessor.HttpContext?.Session.GetString("name")
                        </a>
                        <p class="text-white font-weight mt-4">
                            <span class="text-bold">Role: </span>@HttpContextAccessor.HttpContext?.Session.GetString("roles")
                        </p>
                    </div>
                </div>

                <nav class="mt-1">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu">
                        @if (HttpContextAccessor.HttpContext?.Session.GetString("roles") == "User")
                        {

                            <li class="nav-item">
                                <a href="@Url.Action("Dashboard", "User")" class="nav-link @Html.IsActive("User", "Dashboard")">
                                    <i class="nav-icon fas fa-chart-bar"></i>
                                    <p>Dashboard</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("NewRequest", "User")" class="nav-link @Html.IsActive("User", "NewRequest")">
                                    <i class="nav-icon fas fa-tasks"></i>
                                    <p>New Request<span class="badge badge-danger" id="count1"></span></p>
                                </a>
                            </li>
                            @if (HttpContextAccessor.HttpContext.Session.GetString("roles") == "User")
                            {
                                string checktrackinghistoryMenu = Html.IsMenuopen("User", "WaitingAnalysis") +
                                Html.IsMenuopen("User", "WaitingApproval") +
                                Html.IsMenuopen("User", "UnderAnalysis") +
                                Html.IsMenuopen("User", "AfterAnalysis") +
                                Html.IsMenuopen("User", "FinishTracking") +
                                Html.IsMenuopen("User", "DeclinedTracking") +
                                Html.IsMenuopen("User", "OverdueTracking");

                                string checktrackinghistoryActive = Html.IsActive("User", "WaitingAnalysis") +
                                Html.IsActive("User", "WaitingApproval") +
                                Html.IsActive("User", "UnderAnalysis") +
                                Html.IsActive("User", "AfterAnalysis") +
                                Html.IsActive("User", "FinishTracking") +
                                Html.IsActive("User", "DeclinedTracking")+
                                    Html.IsActive("User", "OverdueTracking") ;

                                <li class="nav-item has-treeview @checktrackinghistoryMenu">
                                    <a href="#" class="nav-link @checktrackinghistoryActive">
                                        <i class="nav-icon fas fa-folder"></i>
                                        <p>
                                            Monitor History
                                            <i class="right fas fa-angle-left"></i>
                                        </p>
                                    </a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item">
                                            <a href="@Url.Action("WaitingApproval", "User")" class="nav-link @Html.IsActive("User", "WaitingApproval")">
                                                <i class="nav-icon fas fa-envelope-open-text"></i>
                                                <p>Waiting Approval<span class="badge badge-danger" id="waitingApproval"></span></p>
                                            </a>
                                        </li> 
                                        <li class="nav-item">
                                            <a href="@Url.Action("DeclinedTracking", "User")" class="nav-link @Html.IsActive("User", "DeclinedTracking")">
                                                <i class="nav-icon fa fa-ban"></i>
                                                <p>Declined Data<span class="badge badge-danger" id="declinedData"></span></p>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("WaitingAnalysis", "User")" class="nav-link @Html.IsActive("User", "WaitingAnalysis")">
                                                <i class="nav-icon fa fa-hourglass-start"></i>
                                                <p>Waiting Analysis</p>
                                                <span class="badge badge-danger" id="countWaitingAnalysis"></span>

                                            </a>
                                        </li> 
                                        <li class="nav-item">
                                            <a href="@Url.Action("UnderAnalysis", "User")" class="nav-link @Html.IsActive("User", "UnderAnalysis")">
                                                <i class="nav-icon fa fa-hourglass-half"></i>
                                                <p>Under Analysis</p>
                                                <span class="badge badge-danger" id="countUnderAnalysis"></span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("AfterAnalysis", "User")" class="nav-link @Html.IsActive("User", "AfterAnalysis")">
                                                <i class="nav-icon fa fa-hourglass-end" style="bg-text"></i>
                                                <p>After Analysis</p>
                                                <span class="badge badge-danger" id="countAfterAnalysis"></span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("FinishTracking", "User")" class="nav-link @Html.IsActive("User", "FinishTracking")">
                                                <i class="nav-icon fa fa-check-circle"></i>
                                                <p>Finish Analysis</p>
                                                <span class="badge badge-danger" id="countFinishAnalysis"></span>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("OverdueTracking", "User")" class="nav-link @Html.IsActive("User", "OverdueTracking")">
                                                <i class="nav-icon fas fa-calendar-times"></i>
                                                <p>Overdue</p>
                                                <span class="badge badge-danger" id="countoverdueAnalysis"></span>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            }
                            <li class="nav-item">
                                <a href="@Url.Action("MyProfile", "User")" class="nav-link @Html.IsActive("User", "MyProfile")">
                                    <i class="nav-icon fas fa-user"></i>
                                    <p>My Profile</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("ChangePassword", "User")" class="nav-link @Html.IsActive("User", "ChangePassword")">
                                    <i class="nav-icon fas fa-key"></i>
                                    <p>Change Password</p>
                                </a>
                            </li>
                           
                        }
                        @if (HttpContextAccessor.HttpContext?.Session.GetString("roles") == "CSQM")
                        {
                            <li class="nav-item">
                                <a href="@Url.Action("Dashboard", "CSQM")" class="nav-link @Html.IsActive("CSQM", "Dashboard")">
                                    <i class="nav-icon fas fa-chart-bar"></i>
                                    <p>Dashboard</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("PendingApproval", "CSQM")" class="nav-link @Html.IsActive("CSQM", "PendingApproval")">
                                    <i class="nav-icon fas fa-envelope-open-text"></i>
                                    <p>Pending Approval<span class="badge badge-danger" id="countPendingApproval"></span></p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("MonitoringHistory", "CSQM")" class="nav-link @Html.IsActive("CSQM", "MonitoringHistory")">
                                    <i class="nav-icon fa fa-history"></i>
                                    <p>Monitoring History</p>
                                    <span class="badge badge-danger" id="countRequestHistory"></span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("MyProfile", "CSQM")" class="nav-link @Html.IsActive("CSQM", "MyProfile")">
                                    <i class="nav-icon fas fa-user"></i>
                                    <p>My Profile</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("ChangePassword", "CSQM")" class="nav-link @Html.IsActive("CSQM", "ChangePassword")">
                                    <i class="nav-icon fas fa-key"></i>
                                    <p>Change Password</p>
                                </a>
                            </li>
                            
                        }
                        @if (HttpContextAccessor.HttpContext?.Session.GetString("roles") == "Admin")
                        {
                            <li class="nav-item">
                                <a href="@Url.Action("Dashboard", "Admin")" class="nav-link @Html.IsActive("Admin", "Dashboard")">
                                    <i class="nav-icon fas fa-chart-bar"></i>
                                    <p>Dashboard</p>
                                </a>
                            </li>                           
                            <li class="nav-item">
                                <a href="@Url.Action("MonitoringHistory", "Admin")" class="nav-link @Html.IsActive("Admin", "MonitoringHistory")">
                                    <i class="nav-icon fas fa-history"></i>
                                    <p>Monitoring History</p>
                                    <span class="badge badge-danger" id="countRequestHistoryAdmin"></span>
                                </a>
                            </li>
                            string checkApproverMenu = Html.IsMenuopen("Admin", "ApprovalRouting") + Html.IsMenuopen("Admin", "ApproverMaster");
                            string checkApproverActive = Html.IsActive("Admin", "ApprovalRouting") + Html.IsActive("Admin", "ApproverMaster");

                            <li class="nav-item has-treeview @checkApproverMenu">
                                <a href="#" class="nav-link @checkApproverActive">
                                    <i class="nav-icon fas fa-folder"></i>
                                    <p>
                                        Approver Data
                                        <i class="right fas fa-angle-left"></i>
                                    </p>
                                </a>
                                <ul class="nav nav-treeview">
                                    <li class="nav-item">
                                        <a href="@Url.Action("ApprovalRouting", "Admin")" class="nav-link @Html.IsActive("Admin", "ApprovalRouting")">
                                            <i class="nav-icon fas fa-project-diagram"></i>
                                            <p>Approval Flow</p>
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="@Url.Action("ApproverMaster","Admin")" class="nav-link @Html.IsActive("Admin", "ApproverMaster")">
                                            <i class="nav-icon fa fa-folder"></i>
                                            <p>Approver Master</p>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            @if (HttpContextAccessor.HttpContext.Session.GetString("roles") == "Admin")
                            {
                                string masterdataMenu = Html.IsMenuopen("Admin", "UserManagement") +
                                Html.IsMenuopen("Admin", "StorageLocation") +
                                Html.IsMenuopen("Admin", "Reference") +
                                Html.IsMenuopen("Admin", "Status") +
                                Html.IsMenuopen("Admin", "Issue") +
                                Html.IsMenuopen("Admin", "Disposition") +
                                Html.IsMenuopen("Admin", "Remark");

                                string masterdataActive = Html.IsActive("Admin", "UserManagement") +
                                Html.IsMenuopen("Admin", "StorageLocation") +
                                Html.IsMenuopen("Admin", "Reference") +
                                Html.IsMenuopen("Admin", "Status") +
                                Html.IsMenuopen("Admin", "Issue") +
                                Html.IsMenuopen("Admin", "Disposition");
                                Html.IsMenuopen("Admin", "Remark");

                                <li class="nav-item has-treeview @masterdataMenu">
                                    <a href="#" class="nav-link @masterdataActive">
                                        <i class="nav-icon fas fa-folder"></i>
                                        <p>
                                            Master Data
                                            <i class="right fas fa-angle-left"></i>
                                        </p>
                                    </a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item">
                                            <a href="@Url.Action("UserManagement", "Admin")" class="nav-link @Html.IsActive("Admin", "UserManagement")">
                                                <i class="nav-icon fa fa-users"></i>
                                                <p>User Management</p>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("StorageLocation", "Admin")" class="nav-link @Html.IsActive("Admin", "StorageLocation")">
                                                <i class="nav-icon fa fa-location-arrow"></i>
                                                <p>Storage Location</p>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("Reference", "Admin")" class="nav-link @Html.IsActive("Admin", "Reference")">
                                                <i class="nav-icon fa fa-file"></i>
                                                <p>Reference</p>

                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("Status", "Admin")" class="nav-link @Html.IsActive("Admin", "Status")">
                                                <i class="nav-icon fa fa-file"></i>
                                                <p>Status</p>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("Issue", "Admin")" class="nav-link @Html.IsActive("Admin", "Issue")">
                                                <i class="nav-icon fa fa-file"></i>
                                                <p>Issue</p>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("Disposition", "Admin")" class="nav-link @Html.IsActive("Admin", "Disposition")">
                                                <i class="nav-icon fa fa-file"></i>
                                                <p>Disposition</p>
                                            </a>
                                        </li> 
                                        <li class="nav-item">
                                            <a href="@Url.Action("Remark", "Admin")" class="nav-link @Html.IsActive("Admin", "Remark")">
                                                <i class="nav-icon fa fa-file"></i>
                                                <p>Remark</p>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item has-treeview @(ViewContext.RouteData.Values["action"]?.ToString() == "RackMasterData" ||
                                    ViewContext.RouteData.Values["action"]?.ToString() == "RowMasterData" ||
                                    ViewContext.RouteData.Values["action"]?.ToString() == "ColumnMasterData" ? "menu-open" : "")">
                                    <a href="#" class="nav-link @(ViewContext.RouteData.Values["action"]?.ToString() == "RackMasterData" ||
                                    ViewContext.RouteData.Values["action"]?.ToString() == "RowMasterData" ||
                                    ViewContext.RouteData.Values["action"]?.ToString() == "ColumnMasterData" ? "active" : "")">
                                    <i class="nav-icon fas fa-solid fa-table"></i>
                                        <p>
                                            Rack
                                            <i class="right fas fa-angle-left"></i>
                                        </p>
                                    </a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item">
                                            <a href="@Url.Action("RackMasterData","Admin")" class="nav-link @Html.IsActive("Admin", "RackMasterData") @(ViewContext.RouteData.Values["action"]?.ToString() == "RackMasterData" ? "active" : "")">
                                                <i class="nav-icon fas fa-solid fa-table"></i>
                                                <p>Rack</p>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("RowMasterData","Admin")" class="nav-link @Html.IsActive("Admin", "RowMasterData") @(ViewContext.RouteData.Values["action"]?.ToString() == "RowMasterData" ? "active" : "")">
                                                <i class="nav-icon fas fa-solid fa-table"></i>
                                                <p>Rack-Row</p>
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="@Url.Action("ColumnMasterData","Admin")" class="nav-link @Html.IsActive("Admin", "ColumnMasterData") @(ViewContext.RouteData.Values["action"]?.ToString() == "ColumnMasterData" ? "active" : "")">
                                                <i class="nav-icon fas fa-solid fa-table"></i>
                                                <p>Rack-Column</p>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a href="@Url.Action("MyProfile", "Admin")" class="nav-link @Html.IsActive("Admin", "MyProfile")">
                                        <i class="nav-icon fas fa-user"></i>
                                        <p>My Profile</p>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a href="@Url.Action("ChangePassword", "Admin")" class="nav-link @Html.IsActive("Admin", "ChangePassword")">
                                        <i class="nav-icon fas fa-key"></i>
                                        <p>Change Password</p>
                                    </a>
                                </li>
                              
                            }

                        }
                        <li class="nav-item ">
                              <a href="#" class="nav-link" onclick="confirmLogout(event)">
                                <i class="nav-icon fas fa-sign-out-alt"></i>
                                <p>
                                    Sign Out
                                </p>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>
        <div class="content-wrapper">
            @RenderBody()
        </div>
        <footer class="main-footer">
            <strong>Copyright &copy; 2025 <a class="text-success" href="http://se.com">Perusahaan XYZ</a>.</strong>
            All rights reserved.
            <div class="d-none d-sm-inline-block float-right">
                <b>Version</b> 1.0.0
            </div>
        </footer>
    </div>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="~/lib/DataTables-1.10.22/js/jquery.dataTables.min.js"></script>
    <script src="~/lib/DataTables-1.10.22/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/adminlte/plugins/moment/moment.min.js"></script>
    <script src="~/lib/adminlte/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
    <script src="~/lib/highchart/module/exporting.js"></script>
    <script src="~/lib/highchart/module/export-data.js"></script>
    <script src="~/lib/highchart/module/accessibility.js"></script>
    <script src="~/lib/highchart/highcharts.js"></script>
    <script src="~/lib/highchart/highcharts-more.js"></script>
    <script src="~/lib/highchart/module/drilldown.js"></script>
    <script src="~/lib/highchart/module/pareto.js"></script>
    <script src="~/lib/adminlte/dist/js/adminlte.min.js"></script>
    <script src="~/lib/adminlte/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/lib/select2-4.1.0/select2.min.js"></script>
    <script src="~/lib/adminlte/plugins/chart.js/Chart.min.js"></script>
    <script src="~/lib/adminlte/plugins/sweetalert2/sweetalert2.min.js"></script>
    <script src="~/scripts/xlsx.full.min.js"></script>
    <!-- Add this in your HTML head section -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <script>
        $('body').on("click", function (e) {
            $(this).removeClass('sidebar-open');
            //console.log("yes");
        });



        function confirmLogout(event) {
    event.preventDefault(); // Mencegah navigasi default
    Swal.fire({
        title: 'Are you sure?',
        text: "You won't be able to revert this!",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, log out!'
    }).then((result) => {
        if (result.isConfirmed) {
            window.location.href = '@Url.Action("SignOut", "Login")';
        }
    });
}


        $(document).ready(function () {
            $('.navbar-toggler').on('click', function () {
                $('body').toggleClass('sidebar-open');
            });

            // Ini adalah script untuk mengaktifkan tombol close pada modal
            $('.modal').on('shown.bs.modal', function () {
                $('[data-dismiss=modal]').on('click', function () {
                    $(this).closest('.modal').modal('hide');
                });
            });


            $.ajax({
                url: "@Url.Action("CountdeclinedData", "User")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#declinedData").text(data.count);
                        $("#declinedData").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#declinedData").attr("hidden", true);
                    }
                }
            });
            $.ajax({
                url: "@Url.Action("CountAllwaitingApproval", "User")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#waitingApproval").text(data.count);
                        $("#waitingApproval").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#waitingApproval").attr("hidden", true);
                    }
                }
            });

            $.ajax({
                url: "@Url.Action("CountWaitingAnalysis", "User")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countWaitingAnalysis").text(data.count);
                        $("#countWaitingAnalysis").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countWaitingAnalysis").attr("hidden", true);
                    }
                }
            });
            $.ajax({
                url: "@Url.Action("CountUnderAnalysis", "User")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countUnderAnalysis").text(data.count);
                        $("#countUnderAnalysis").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countUnderAnalysis").attr("hidden", true);
                    }
                }
            }); $.ajax({
                url: "@Url.Action("CountAfterAnalysis", "User")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countAfterAnalysis").text(data.count);
                        $("#countAfterAnalysis").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countAfterAnalysis").attr("hidden", true);
                    }
                }
            });
            $.ajax({
                url: "@Url.Action("CountFinishAnalysis", "User")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countFinishAnalysis").text(data.count);
                        $("#countFinishAnalysis").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countFinishAnalysis").attr("hidden", true);
                    }
                }
            });
            $.ajax({
                url: "@Url.Action("CountoverdueAnalysis", "User")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countoverdueAnalysis").text(data.count);
                        $("#countoverdueAnalysis").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countoverdueAnalysis").attr("hidden", true);
                    }
                }
            });
            $.ajax({
                url: "@Url.Action("CountPendingApproval", "CSQM")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countPendingApproval").text(data.count);
                        $("#countPendingApproval").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countPendingApproval").attr("hidden", true);
                    }
                }
            });
            $.ajax({
                url: "@Url.Action("CountRequestHistory", "CSQM")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countRequestHistory").text(data.count);
                        $("#countRequestHistory").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countRequestHistory").attr("hidden", true);
                    }
                }
            });
            
            $.ajax({
                url: "@Url.Action("CountRequestHistoryAdmin", "Admin")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countRequestHistoryAdmin").text(data.count);
                        $("#countRequestHistoryAdmin").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countRequestHistoryAdmin").attr("hidden", true);
                    }
                }
            });

            $.ajax({
                url: "@Url.Action("CountReturntoSupplierIQC", "IQC")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countReturntoSupplierIQC").text(data.count);
                        $("#countReturntoSupplierIQC").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countReturntoSupplierIQC").attr("hidden", true);
                    }
                }
            });

            $.ajax({
                url: "@Url.Action("CountWaitingReplacementWH", "WH")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countWaitingReplacement").text(data.count);
                        $("#countWaitingReplacement").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countWaitingReplacement").attr("hidden", true);
                    }
                }
            });
            $.ajax({
                url: "@Url.Action("CountALLOutboundRequest", "WH")",
                type: "GET",
                success: function (data) {
                    console.log(data)
                    if (data.count !== undefined && data.count !== 0) {
                        $("#countOutboundRequest").text(data.count);
                        $("#countOutboundRequest").removeAttr("hidden"); // Ensure the badge is visible
                    } else {
                        $("#countOutboundRequest").attr("hidden", true);
                    }
                }
            });

        });

    </script>
    @RenderSection("Scripts", required: false)
</body>
</html>

<style>
    .dropdown a.dropdown-item:hover {
        background-color: #3dcd58;
        color: white;
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }


    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    .dot {
        height: 20px;
        width: 20px;
        border-radius: 50%;
        display: inline-block;
    }

    .nav-link.active {
        background-color: #28a745; /* Warna hijau */
        color: white; /* Warna teks putih */
    }

    .mynav_dropdown {
        position: relative;
        display: inline-block;
    }

    .mynav-dropbtn {
        background-color: #3dcd58;
        color: white;
        padding: 10px;
        border: none;
        cursor: pointer;
    }

    .mynav_dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

        .mynav_dropdown-content a {
            font-weightL bold;
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

            .mynav_dropdown-content a:hover {
                background-color: deepskyblue;
                color: white;
            }

    .mynav_dropdown:hover .mynav_dropdown-content {
        display: block;
    }


    .mynav_dropdown-content {
        right: 0;
    }

    .dropdown-divider {
        border-top: 1px solid #ccc; /* You can adjust the color and thickness */
        margin-top: 10px; /* Adjust the spacing as needed */
        margin-bottom: 10px; /* Adjust the spacing as needed */
    }

    #option_plant {
        font-weight: bold; /* Atur ketebalan font */
        font-size: 12px; /* Atur ukuran font */
        border-radius: 5px; /* Atur radius sudut border */
        width: 6rem; /* Atur lebar elemen select */
    }

    .nav-item {
        position: relative;
    }

        .nav-item .badge {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            margin-right: 12px;
        }
</style>